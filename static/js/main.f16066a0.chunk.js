(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(e,t,a){e.exports=a(262)},260:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=a(30),l=a(267),s=a(38);function u(){var e=Object(o.f)();return"/"!==Object(o.g)().pathname?r.a.createElement(l.a,{className:"site-page-header",extra:[r.a.createElement(s.a,{key:"1",type:"link",block:!0,onClick:function(){return e.push("/")}},"Home"),r.a.createElement(s.a,{key:"2",type:"link",block:!0,onClick:function(){return e.push("/posts/")}},"Posts")],onBack:function(){return window.history.back()},title:"App"}):r.a.createElement(l.a,{className:"site-page-header",extra:[r.a.createElement(s.a,{key:"1",type:"link",block:!0,onClick:function(){return e.push("/")}},"Home"),r.a.createElement(s.a,{key:"2",type:"link",block:!0,onClick:function(){return e.push("/posts/")}},"Posts")],title:"App"})}var p=a(41),m=a(36),f=a.n(m),d=a(51),h=a(40),b=a(266),g=a(148),v=a(269),E=a(272),y=a(264);function k(e){var t=e.children,a=e.confirm,n=e.tittle;return r.a.createElement(y.a,{title:n,onConfirm:a,okText:"Aceptar",cancelText:"Cancelar"},t)}var j=a(268),w=a(270),O=a(93),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(h.a)(t,2),r=a[0],c=a[1],i=function(){c(e)},o=function(e){var t=e.target;c(Object(p.a)(Object(p.a)({},r),{},Object(O.a)({},t.name,t.value)))};return[r,o,i]},x=a(56),A=a.n(x),S=a(271),N="https://frozen-fjord-18489.herokuapp.com/categories/",P="https://frozen-fjord-18489.herokuapp.com/posts/";function I(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(N);case 2:return t=e.sent,e.abrupt("return",200===t.status?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){var t=e.visible,a=e.onVisible,n=C({name:"",description:""}),c=Object(h.a)(n,2),i=c[0],o=c[1],l=i.name,u=i.description;return r.a.createElement(j.a,{title:"Agregar categor\xeda",visible:t,onCancel:a,footer:[r.a.createElement(s.a,{key:"back",onClick:a},"Cancelar"),r.a.createElement(s.a,{key:"submit",type:"primary",onClick:function(){var e;e=i,A.a.post(N,e).then((function(e){S.b.success("Categor\xeda agregada!")})).catch((function(e){return S.b.error(e)})),a()}},"Agregar")]},r.a.createElement(w.a,{type:"text",name:"name",value:l,placeholder:"Nombre",onChange:o}),r.a.createElement(w.a,{type:"text",name:"description",value:u,placeholder:"Descripci\xf3n",onChange:o}))},T=function(e){var t=e.visible,a=e.onVisible,n=e.values,c=C({name:"",description:""}),i=Object(h.a)(c,2),o=i[0],l=i[1],u=o.name,p=o.description;return r.a.createElement(j.a,{title:"Editar categor\xeda",visible:t,onCancel:a,footer:[r.a.createElement(s.a,{key:"back",onClick:a},"Cancelar"),r.a.createElement(s.a,{key:"submit",type:"primary",onClick:function(){var e,t;e=o,(t=n._id).length>0?A.a.put(N+t,e).then((function(e){S.b.success("Categor\xeda editada!")})).catch((function(e){return S.b.error(e)})):S.b.error("Error!"),a()}},"Agregar")]},r.a.createElement(w.a,{type:"text",name:"name",value:u,placeholder:n.name,onChange:l}),r.a.createElement(w.a,{type:"text",name:"description",value:p,placeholder:n.description,onChange:l}))},U=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({visible:!1,values:{}}),o=Object(h.a)(i,2),l=o[0],u=o[1],m=Object(n.useState)([]),y=Object(h.a)(m,2),j=y[0],w=y[1];return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j]),r.a.createElement("div",{className:"home"},r.a.createElement(s.a,{type:"primary",onClick:function(){return c(!a)},icon:r.a.createElement(E.a,null),shape:"round"},"Agregar"),j.length>0?r.a.createElement(b.b,{itemLayout:"horizontal",dataSource:j,renderItem:function(e){return r.a.createElement(b.b.Item,{actions:[r.a.createElement(s.a,{type:"link",onClick:function(){return u({visible:!l.visible,values:e})},key:"list-loadmore-edit"},"editar"),r.a.createElement(k,{tittle:"\xbfDeseas eliminar esta categor\xeda?",confirm:function(){return t=e._id,void A.a.delete(N+t).then((function(e){S.b.success("Categor\xeda eliminada!")})).catch((function(e){return S.b.error(e)}));var t}},r.a.createElement(s.a,{type:"link",key:"list-loadmore-delete"},"eliminar"))]},r.a.createElement(b.b.Item.Meta,{avatar:r.a.createElement(g.a,{src:"https://img5.goodfon.com/wallpaper/nbig/4/42/colorful-lines-figures-fon-linii-figury-krasochnyi-fon.jpg"}),title:r.a.createElement("a",{href:"https://ant.design"},e.name),description:e.description}))}}):r.a.createElement(v.a,null),r.a.createElement(W,{visible:a,onVisible:function(){return c(!a)}}),r.a.createElement(T,{visible:l.visible,values:l.values,onVisible:function(){return u(Object(p.a)(Object(p.a)({},l),{},{visible:!l.visible}))}}))},_=a(84),z=a(265),B=a(273),D=a(274);function R(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||S.b.error("La imagen no corresponde al formato JPG/PNG!");var a=e.size/1024/1024<2;return a||S.b.error("Sube una imagen menor a 2MB!"),t&&a}function V(){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(P);case 2:return t=e.sent,e.abrupt("return",200===t.status?t.data:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=_.a.Option,F=function(){var e=Object(n.useState)({tittle:"",description:"",author:"",img:""}),t=Object(h.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(h.a)(i,2),u=l[0],m=l[1],b=Object(n.useState)(!1),g=Object(h.a)(b,2),v=g[0],E=g[1],y=Object(n.useState)([]),k=Object(h.a)(y,2),j=k[0],O=k[1],C=Object(o.f)();Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j]);var x=r.a.createElement("div",null,v?r.a.createElement(B.a,null):r.a.createElement(D.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Imagen"));return r.a.createElement("div",{className:"form-post"},r.a.createElement(z.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:R,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){c(Object(p.a)(Object(p.a)({},a),{},{img:e})),E(!1)})):E(!0)}},a.img?r.a.createElement("img",{src:a.img,alt:"avatar",style:{width:"100%"}}):x),r.a.createElement(w.a,{placeholder:"T\xedtulo",onChange:function(e){return c(Object(p.a)(Object(p.a)({},a),{},{tittle:e.target.value}))},value:a.tittle}),r.a.createElement(w.a,{placeholder:"Descripci\xf3n",onChange:function(e){return c(Object(p.a)(Object(p.a)({},a),{},{description:e.target.value}))},value:a.description}),r.a.createElement(w.a,{placeholder:"Autor",onChange:function(e){return c(Object(p.a)(Object(p.a)({},a),{},{author:e.target.value}))},value:a.author}),r.a.createElement(_.a,{defaultValue:"Categor\xeda",style:{width:"40vw"},onChange:function(e){return m(e)}},j.length>0?j.map((function(e){return r.a.createElement(M,{value:e._id,key:e._id},e.name)})):null),r.a.createElement(s.a,{type:"primary",onClick:function(){!function(e,t){t.length>0?A.a.post(P+t,e).then((function(e){S.b.success("Publicaci\xf3n agregada!")})).catch((function(e){return S.b.error(e)})):S.b.error("Agrega una categor\xeda")}(a,u),C.push("/posts/")}},"Aceptar"))},G=a(275),H=function(){var e=Object(o.f)(),t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),r.a.createElement("div",{className:"home"},r.a.createElement(s.a,{type:"primary",icon:r.a.createElement(E.a,null),shape:"round",onClick:function(){return e.push("/new-post/")}},"Agregar"),c.length>0?r.a.createElement(b.b,{itemLayout:"vertical",size:"large",dataSource:c,renderItem:function(e){return r.a.createElement(b.b.Item,{key:e._id,actions:[r.a.createElement(k,{tittle:"\xbfDeseas eliminar esta Publicaci\xf3n?",confirm:function(){return t=e._id,void A.a.delete(P+t).then((function(){S.b.success("Publicaci\xf3n eliminada!")})).catch((function(e){return S.b.error(e)}));var t}},r.a.createElement(s.a,{type:"danger",icon:r.a.createElement(G.a,null),shape:"round",key:"list-vertical-star-o"},"Borrar"))],extra:r.a.createElement("img",{width:272,alt:"logo",src:e.img})},r.a.createElement(b.b.Item.Meta,{avatar:r.a.createElement(g.a,{src:"https://img5.goodfon.com/wallpaper/nbig/4/42/colorful-lines-figures-fon-linii-figury-krasochnyi-fon.jpg"}),title:r.a.createElement("a",{href:"https://ant.design"},e.tittle),description:"Autor: "+e.author}),e.description)}}):r.a.createElement(v.a,null))};var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:U}),r.a.createElement(o.a,{path:"/posts/",component:H}),r.a.createElement(o.a,{path:"/new-post/",component:F})))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Q=a(68);a(260),a(261);i.a.render(r.a.createElement(Q.a,null,r.a.createElement($,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[154,1,2]]]);
//# sourceMappingURL=main.f16066a0.chunk.js.map